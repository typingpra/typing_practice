<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Practice</title>
    <link rel="stylesheet" href="static/style.css">
    <script src="static/js/chart.min.js"></script>
</head>

<body tabindex="0">
    <header>
        <!-- Esc„Ç≠„Éº„Éí„É≥„ÉàÔºàÂ∑¶‰∏ä„Å´ÁßªÂãïÔºâ -->
        <div class="keyboard-hint">
            <span class="hint-key">Esc</span>
            <span class="hint-text">Reset</span>
        </div>
        <label for="language">Language:</label>
        <select id="language">
            <option value="python">Python</option>
            <option value="javascript">JavaScript</option>
            <option value="java">Java</option>
            <option value="c">C</option>
            <option value="cpp">C++</option>
            <option value="rust">Rust</option>
            <option value="lua">Lua</option>
            <option value="typewell">TypeWell Original</option>
            <option value="typewell-english-words">TypeWell English Words</option>
            <option value="initial-speed">Initial Speed</option>
            <option value="word-practice">Word Practice</option>
            <option value="custom">Custom</option>
        </select>
        <button id="toggle-custom">Custom</button>
        <button id="settings-btn">‚öôÔ∏è Settings</button>
        <button id="stats-btn">üìä Stats</button>
        <button id="help-btn">üìñ Help</button>
        <div id="stats">
            <div id="timer">0s</div>
            <div id="wpm">WPM: 0</div>
            <div id="acc">Accuracy: 100%</div>
            <div id="progress-text">0/0</div>
            <div>
                <label for="page-select">Page:</label>
                <select id="page-select"
                    style="background: var(--button-bg); color: var(--text-color); border: 1px solid var(--border-color); padding: 2px;">
                    <option value="0">1</option>
                </select>
            </div>
        </div>
    </header>

    <!-- „Éó„É≠„Ç∞„É¨„Çπ„Éê„Éº„Çí„Éò„ÉÉ„ÉÄ„Éº„ÅÆÁõ¥‰∏ã„Å´ÁßªÂãï -->
    <div id="progress-bar">
        <div id="progress"></div>
    </div>

    <!-- „Éá„Éï„Ç©„É´„ÉàË®ÄË™û„ÅÆTypewell„É¢„Éº„ÉâÈÅ∏Êäû -->
    <div id="default-language-mode-container" style="display: none; padding: 10px 20px; background: var(--panel-bg); transition: background-color 0.3s; border: none; border-bottom: none;">
        <div class="default-mode-selection" style="margin-bottom: 10px;">
            <label class="default-mode-label">Mode:</label>
            <div class="default-modes">
                <label class="default-radio-label">
                    <input type="radio" name="default-mode" value="normal" id="default-normal" checked>
                    <span class="default-radio-text">Normal (Regular typing)</span>
                </label>
                <label class="default-radio-label">
                    <input type="radio" name="default-mode" value="typewell" id="default-typewell">
                    <span class="default-radio-text">TypeWell Mode (Strict typing)</span>
                </label>
            </div>
        </div>
    </div>

    <div id="custom-container">
        <div style="display: flex; gap: 10px; align-items: center; margin-bottom: 10px;">
            <label for="custom-name">Name:</label>
            <input type="text" id="custom-name" placeholder="Enter code name..."
                style="background: var(--bg-color); color: var(--text-color); border: 1px solid var(--border-color); padding: 5px;">
            <button id="save-custom">Save</button>
            <input type="file" id="file-input"
                accept=".txt,.js,.py,.c,.cpp,.h,.html,.css,.java,.rb,.php,.go,.rs,.ts,.jsx,.tsx,.vue,.md,.json,.xml,.yml,.yaml,.sh,.bat"
                style="display: none;">
            <button id="choose-file-btn">üìÅ Choose File</button>
        </div>

        <!-- „Ç´„Çπ„Çø„É†„Ç≥„Éº„Éâ„É¢„Éº„ÉâÈÅ∏Êäû -->
        <div class="custom-mode-selection" style="margin-bottom: 10px;">
            <label class="custom-mode-label">Mode:</label>
            <div class="custom-modes">
                <label class="custom-radio-label">
                    <input type="radio" name="custom-mode" value="normal" id="custom-normal" checked>
                    <span class="custom-radio-text">Normal (Regular typing)</span>
                </label>
                <label class="custom-radio-label">
                    <input type="radio" name="custom-mode" value="typewell" id="custom-typewell">
                    <span class="custom-radio-text">TypeWell Mode (Strict typing)</span>
                </label>
            </div>
        </div>

        <div style="display: flex; gap: 10px; align-items: center; margin-bottom: 10px;">
            <select id="saved-codes"
                style="background: var(--button-bg); color: var(--text-color); border: 1px solid var(--border-color); padding: 5px; flex: 1;">
                <option value="">-- Select saved code --</option>
            </select>
            <button id="load-custom">Load</button>
            <button id="delete-custom">Delete</button>
        </div>
        <div style="font-size: 12px; color: var(--pending-color); margin-bottom: 10px;">
            ‚ö†Ô∏è Note: Only ASCII text files are supported. Files with non-ASCII characters (Japanese, Chinese, etc.) may
            not display correctly.
        </div>
        <label for="custom-code">Paste your code here:</label>
        <textarea id="custom-code" placeholder="Enter code for practice..."></textarea>
    </div>

    <!-- TypeWell„É¢„Éº„ÉâÈÅ∏Êäû -->
    <div id="typewell-container">
        <div class="typewell-mode-selection">
            <label class="typewell-mode-label">Mode:</label>
            <div class="typewell-modes">
                <label class="typewell-radio-label">
                    <input type="radio" name="typewell-mode" value="lowercase" id="typewell-lowercase" checked>
                    <span class="typewell-radio-text">Lowercase (a-z)</span>
                </label>
                <label class="typewell-radio-label">
                    <input type="radio" name="typewell-mode" value="mixed" id="typewell-mixed">
                    <span class="typewell-radio-text">Mixed Case (a-z, A-Z)</span>
                </label>
                <label class="typewell-radio-label">
                    <input type="radio" name="typewell-mode" value="symbols" id="typewell-symbols">
                    <span class="typewell-radio-text">With Symbols (a-z, A-Z, symbols)</span>
                </label>
                <label class="typewell-radio-label">
                    <input type="radio" name="typewell-mode" value="numbers" id="typewell-numbers">
                    <span class="typewell-radio-text">Numbers Only (0-9)</span>
                </label>
            </div>
        </div>
    </div>

    <!-- Initial Speed„É¢„Éº„ÉâÈÅ∏Êäû -->
    <div id="initial-speed-container">
        <div class="initial-speed-mode-selection">
            <label class="initial-speed-mode-label">Character Set:</label>
            <div class="initial-speed-modes">
                <label class="initial-speed-radio-label">
                    <input type="radio" name="initial-speed-mode" value="lowercase" id="initial-speed-lowercase"
                        checked>
                    <span class="initial-speed-radio-text">Lowercase + Punctuation (a-z, , .)</span>
                </label>
                <label class="initial-speed-radio-label">
                    <input type="radio" name="initial-speed-mode" value="numbers" id="initial-speed-numbers">
                    <span class="initial-speed-radio-text">Numbers Only (0-9)</span>
                </label>
                <label class="initial-speed-radio-label">
                    <input type="radio" name="initial-speed-mode" value="lefthand" id="initial-speed-lefthand">
                    <span class="initial-speed-radio-text">Left Hand (qwertasdfgzxcvb)</span>
                </label>
                <label class="initial-speed-radio-label">
                    <input type="radio" name="initial-speed-mode" value="righthand" id="initial-speed-righthand">
                    <span class="initial-speed-radio-text">Right Hand (yuiophjklnm,.)</span>
                </label>
                <label class="initial-speed-radio-label">
                    <input type="radio" name="initial-speed-mode" value="hand_primitive" id="initial-speed-hand-primitive">
                    <span class="initial-speed-radio-text">Hand Primitive (Left/Right reflex training)</span>
                </label>
            </div>
            <div class="initial-speed-trials-section">
                <label class="initial-speed-trials-label">Trials:</label>
                <select id="initial-speed-trials" class="initial-speed-trials-select">
                    <option value="5">5</option>
                    <option value="10" selected>10</option>
                    <option value="15">15</option>
                    <option value="20">20</option>
                </select>
            </div>
        </div>
    </div>

    <!-- Word Practice„É¢„Éº„ÉâÈÅ∏Êäû -->
    <div id="word-practice-container">
        <div class="word-practice-mode-selection">
            <label class="word-practice-mode-label">Word Set:</label>
            <div class="word-practice-sets">
                <label class="word-practice-radio-label">
                    <input type="radio" name="word-practice-set" value="top500" id="word-practice-top500" checked>
                    <span class="word-practice-radio-text">Top 500 Words</span>
                </label>
                <label class="word-practice-radio-label">
                    <input type="radio" name="word-practice-set" value="top1500" id="word-practice-top1500">
                    <span class="word-practice-radio-text">Top 1500 Words</span>
                </label>
                <label class="word-practice-radio-label">
                    <input type="radio" name="word-practice-set" value="all" id="word-practice-all">
                    <span class="word-practice-radio-text">All Words (2809)</span>
                </label>
            </div>
            <div class="word-practice-count-section">
                <label class="word-practice-count-label">Words:</label>
                <select id="word-practice-count" class="word-practice-count-select">
                    <option value="5">5</option>
                    <option value="10" selected>10</option>
                    <option value="15">15</option>
                    <option value="20">20</option>
                </select>
            </div>
        </div>
    </div>

    <!-- TypeWell English Words„É¢„Éº„ÉâÈÅ∏Êäû -->
    <div id="typewell-english-words-container">
        <div class="typewell-english-words-mode-selection">
            <label class="typewell-english-words-mode-label">Word Set:</label>
            <div class="typewell-english-words-sets">
                <label class="typewell-english-words-radio-label">
                    <input type="radio" name="typewell-english-words-set" value="top500" id="typewell-english-words-top500" checked>
                    <span class="typewell-english-words-radio-text">Top 500 Words</span>
                </label>
                <label class="typewell-english-words-radio-label">
                    <input type="radio" name="typewell-english-words-set" value="top1500" id="typewell-english-words-top1500">
                    <span class="typewell-english-words-radio-text">Top 1500 Words</span>
                </label>
                <label class="typewell-english-words-radio-label">
                    <input type="radio" name="typewell-english-words-set" value="all" id="typewell-english-words-all">
                    <span class="typewell-english-words-radio-text">All Words (2809)</span>
                </label>
            </div>
        </div>
    </div>

    <div id="container">
        <div id="code-pane">
            <!-- „Çø„Ç§„Éó„Ç¶„Çß„É´„Çπ„Çø„Éº„ÉàÁîªÈù¢ -->
            <div id="typewell-start-screen" style="display: none;">
                <div class="typewell-start-content">
                    <h2 class="typewell-start-title">TypeWell Original</h2>
                    <div class="typewell-start-info">
                        <p>360 characters ‚Ä¢ 10 lines ‚Ä¢ Random generated</p>
                        <p class="typewell-mode-display">Mode: <span id="typewell-current-mode">Lowercase</span></p>
                    </div>
                    <div class="typewell-start-instruction">
                        <div class="typewell-start-key">
                            <button id="typewell-start-button" class="start-key">Enter</button>
                        </div>
                        <p>Press Enter or Space to start</p>
                    </div>
                </div>
            </div>

            <!-- Initial Speed„Çπ„Çø„Éº„ÉàÁîªÈù¢ -->
            <div id="initial-speed-start-screen" style="display: none;">
                <div class="initial-speed-start-content">
                    <h2 class="initial-speed-start-title">Initial Speed</h2>
                    <div class="initial-speed-start-info">
                        <p>Reaction time measurement ‚Ä¢ <span id="initial-speed-trials-display">10</span> trials</p>
                        <p class="initial-speed-mode-display">Mode: <span id="initial-speed-current-mode">Lowercase +
                                Punctuation</span></p>
                    </div>
                    <div class="initial-speed-start-instruction">
                        <div class="initial-speed-start-key">
                            <button id="initial-speed-start-button" class="start-key">Start</button>
                        </div>
                        <p>Click Start to begin</p>
                    </div>
                </div>
            </div>

            <!-- Initial SpeedÁ∑¥ÁøíÁîªÈù¢ -->
            <div id="initial-speed-practice-screen" style="display: none;">
                <div class="initial-speed-practice-content">
                    <div id="initial-speed-status" class="initial-speed-status"></div>
                    <div id="initial-speed-character" class="initial-speed-character"></div>
                    <div id="initial-speed-progress" class="initial-speed-progress"></div>
                </div>
            </div>

            <!-- Word Practice„Çπ„Çø„Éº„ÉàÁîªÈù¢ -->
            <div id="word-practice-start-screen" style="display: none;">
                <div class="word-practice-start-content">
                    <h2 class="word-practice-start-title">Word Practice</h2>
                    <div class="word-practice-start-info">
                        <p>Type words accurately ‚Ä¢ <span id="word-practice-count-display">10</span> words</p>
                        <p class="word-practice-set-display">Set: <span id="word-practice-current-set">Top 500 Words</span></p>
                        <p class="word-practice-license">Word list: <a href="https://www.newgeneralservicelist.org/" target="_blank" rel="noopener" style="text-decoration: underline;">NGSL</a> by Browne, Culligan & Phillips ‚Ä¢ <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener" style="text-decoration: underline;">CC BY-SA 4.0</a></p>
                    </div>
                    <div class="word-practice-start-instruction">
                        <div class="word-practice-start-key">
                            <button id="word-practice-start-button" class="start-key">Start</button>
                        </div>
                        <p>Click Start to begin</p>
                    </div>
                </div>
            </div>

            <!-- Word PracticeÁ∑¥ÁøíÁîªÈù¢ -->
            <div id="word-practice-practice-screen" style="display: none;">
                <div class="word-practice-practice-content">
                    <div id="word-practice-status" class="word-practice-status"></div>
                    <div id="word-practice-word" class="word-practice-word"></div>
                    <div id="word-practice-progress" class="word-practice-progress"></div>
                </div>
            </div>

            <!-- TypeWell English Words„Çπ„Çø„Éº„ÉàÁîªÈù¢ -->
            <div id="typewell-english-words-start-screen" style="display: none;">
                <div class="typewell-english-words-start-content">
                    <h2 class="typewell-english-words-start-title">TypeWell English Words</h2>
                    <div class="typewell-english-words-start-info">
                        <p>400 characters ‚Ä¢ 8 lines ‚Ä¢ English vocabulary practice</p>
                        <p class="typewell-english-words-set-display">Set: <span id="typewell-english-words-current-set">Top 500 Words</span></p>
                        <p class="typewell-english-words-license">Word list: <a href="https://www.newgeneralservicelist.org/" target="_blank" rel="noopener" style="text-decoration: underline;">NGSL</a> by Browne, Culligan & Phillips ‚Ä¢ <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener" style="text-decoration: underline;">CC BY-SA 4.0</a></p>
                    </div>
                    <div class="typewell-english-words-start-instruction">
                        <div class="typewell-english-words-start-key">
                            <button id="typewell-english-words-start-button" class="start-key">Enter</button>
                        </div>
                        <p>Press Enter or Space to start</p>
                    </div>
                </div>
            </div>

            <!-- „Çø„Ç§„Éó„Ç¶„Çß„É´„Ç´„Ç¶„É≥„Éà„ÉÄ„Ç¶„É≥ -->
            <div id="typewell-countdown" style="display: none;">
                <div class="typewell-countdown-content">
                    <div class="typewell-countdown-number">3</div>
                    <div class="typewell-countdown-text">Get Ready...</div>
                </div>
            </div>

            <pre id="code"></pre>
        </div>
        <div id="overlay">
            <div id="results-card">
                <div class="results-header">
                    <h2 class="results-title">Results</h2>
                </div>

                <div class="page-info">
                    <span id="page-badge">Page 1/1</span> ‚Ä¢ <span id="character-count">0 characters</span>
                </div>

                <!-- Initial SpeedÂ∞ÇÁî®„É™„Ç∂„É´„Éà -->
                <div id="initial-speed-results" class="initial-speed-results-section" style="display: none;">
                    <div class="initial-speed-results-header">
                        <span id="initial-speed-mode-info">Lowercase + Punctuation</span> ‚Ä¢
                        <span id="initial-speed-trials-info">10 trials</span>
                    </div>
                    <div id="initial-speed-summary" class="initial-speed-summary">
                        <!-- „Çµ„Éû„É™„ÉºÁµ±Ë®à„Åå„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Çã -->
                    </div>
                    <div id="initial-speed-detailed-results" class="initial-speed-detailed-results">
                        <!-- Ë©≥Á¥∞ÁµêÊûú„Åå„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Çã -->
                    </div>
                </div>

                <!-- TypeWellÂ∞ÇÁî®„É™„Ç∂„É´„Éà -->
                <div id="typewell-results" class="typewell-results-section" style="display: none;">
                    <div class="typewell-results-header">
                        <span id="typewell-mode-info">Lowercase</span> ‚Ä¢
                        <span id="typewell-lines-info">10 lines</span>
                    </div>
                    
                    <!-- TypeWellÁî®Áµ±Ë®àË°®Á§∫ -->
                    <div class="stats-list typewell-stats">
                        <div class="stat-item">
                            <span class="stat-label">Time</span>
                            <span class="stat-value" id="typewell-time-display">0s</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">WPM</span>
                            <span class="stat-value" id="typewell-wpm-display">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Accuracy</span>
                            <span class="stat-value accuracy-value" id="typewell-accuracy-display">100%</span>
                        </div>
                    </div>
                    
                    <div id="typewell-detailed-results" class="typewell-detailed-results">
                        <!-- Ë©≥Á¥∞ÁµêÊûú„Åå„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Çã -->
                    </div>
                </div>

                <!-- Word PracticeÂ∞ÇÁî®„É™„Ç∂„É´„Éà -->
                <div id="word-practice-results" class="word-practice-results-section" style="display: none;">
                    <div class="word-practice-results-header">
                        <span id="word-practice-mode-info">Top 500 Words</span> ‚Ä¢
                        <span id="word-practice-count-info">10 words</span>
                    </div>
                    <div id="word-practice-summary" class="word-practice-summary">
                        <!-- „Çµ„Éû„É™„ÉºÁµ±Ë®à„Åå„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Çã -->
                    </div>
                    <div id="word-practice-detailed-results" class="word-practice-detailed-results">
                        <!-- Ë©≥Á¥∞ÁµêÊûú„Åå„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Çã -->
                    </div>
                </div>

                <div class="stats-list">
                    <div class="stat-item">
                        <span class="stat-label">Time</span>
                        <span class="stat-value" id="time-display">0s</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">WPM</span>
                        <span class="stat-value" id="wpm-display">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Accuracy</span>
                        <span class="stat-value accuracy-value" id="accuracy-display">100%</span>
                    </div>
                </div>

                <!-- TOP3„É©„É≥„Ç≠„É≥„Ç∞Ë°®Á§∫„Çª„ÇØ„Ç∑„Éß„É≥ -->
                <div id="top3-ranking" class="top3-ranking-section" style="display: none;">
                    <div id="ranking-info" class="ranking-info" style="display: none;">
                        <!-- „É©„É≥„ÇØ„Ç§„É≥Ë°®Á§∫„Åå„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Çã -->
                    </div>
                    <div class="ranking-header">
                        <span class="stat-label">Top Records</span>
                    </div>
                    <div id="ranking-list" class="ranking-list">
                        <!-- TOP3„É©„É≥„Ç≠„É≥„Ç∞„Åå„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Çã -->
                    </div>
                </div>

                <div id="mistake-chars" class="mistake-chars-section" style="display: none;">
                    <div class="mistake-chars-header">
                        <span class="stat-label">Frequent Mistakes:</span>
                    </div>
                    <div id="mistake-list" class="mistake-list">
                        <!-- „Éü„ÇπÊñáÂ≠ó„Åå„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Çã -->
                    </div>
                </div>

                <div class="results-buttons">
                    <button id="next-btn" class="result-btn primary">Next</button>
                    <button id="retry-btn" class="result-btn">Retry</button>
                    <button id="restart-btn" class="result-btn">Restart All</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Ë®≠ÂÆö„Éë„Éç„É´ -->
    <div id="settings-panel">
        <div id="settings-content">
            <h3>Settings</h3>
            <div class="setting-row">
                <label>Theme:</label>
                <div class="theme-labels">
                    <span class="theme-label active" id="dark-label">üåô Dark</span>
                    <div class="toggle-switch" id="theme-toggle">
                        <div class="toggle-slider"></div>
                    </div>
                    <span class="theme-label" id="light-label">‚òÄÔ∏è Light</span>
                </div>
            </div>
            <div class="setting-row">
                <label>Text Wrap:</label>
                <div class="theme-labels">
                    <span class="theme-label active" id="wrap-disabled-label">üìú Off</span>
                    <div class="toggle-switch" id="text-wrap-toggle">
                        <div class="toggle-slider"></div>
                    </div>
                    <span class="theme-label" id="wrap-enabled-label">üìÉ On</span>
                </div>
            </div>
            <div class="setting-row">
                <label>Auto Break:</label>
                <div class="break-setting">
                    <span class="break-label">After</span>
                    <input type="number" id="break-chars-input" min="0" max="10000" placeholder="0" class="break-input">
                    <span class="break-label">chars (0 = off)</span>
                </div>
            </div>
            <!-- ‰øÆÊ≠£: „Çø„Ç§„Éó„Ç¶„Çß„É´„Ç´„Ç¶„É≥„Éà„ÉÄ„Ç¶„É≥Ë®≠ÂÆö -->
            <div class="setting-row">
                <label for="typewell-countdown-input">TypeWell Countdown:</label>
                <div class="break-setting">
                    <span class="break-label">Seconds (0-3):</span>
                    <input type="number" id="typewell-countdown-input" min="0" max="3" step="1" placeholder="3"
                        class="break-input" tabindex="0" inputmode="numeric" autocomplete="off">
                </div>
            </div>
            <div class="setting-row">
                <label>Data:</label>
                <div class="data-buttons">
                    <button id="export-data-btn">üì§ Export</button>
                    <button id="import-data-btn">üì• Import</button>
                    <input type="file" id="import-file-input" accept=".json" style="display: none;">
                </div>
            </div>
            <div class="setting-row">
                <label>Danger Zone:</label>
                <div class="data-buttons">
                    <button id="delete-all-data-btn">üóëÔ∏è Delete All Data</button>
                </div>
            </div>
            <button id="close-settings">Close</button>
        </div>
    </div>

    <!-- ‰ºëÊÜ©„ÉÄ„Ç§„Ç¢„É≠„Ç∞ -->
    <div id="break-dialog">
        <div id="break-content">
            <div class="break-header">
                <h3>Take a Break</h3>
            </div>
            <div class="break-body">
                <div class="break-message">
                    <p>Time for a short break.</p>
                    <p>Rest your hands and eyes before continuing.</p>
                </div>

                <div class="break-stats">
                    <div class="break-stat-item">
                        <span class="break-stat-label">WPM:</span>
                        <span class="break-stat-value" id="break-wpm">0</span>
                    </div>
                    <div class="break-stat-item">
                        <span class="break-stat-label">Time:</span>
                        <span class="break-stat-value" id="break-time">0s</span>
                    </div>
                    <div class="break-stat-item">
                        <span class="break-stat-label">Characters:</span>
                        <span class="break-stat-value" id="break-chars">0</span>
                    </div>
                </div>

                <button id="break-resume-btn" class="break-resume-button">
                    Continue (Press Enter)
                </button>
            </div>
        </div>
    </div>

    <!-- „Éò„É´„Éó„Éë„Éç„É´ -->
    <div id="help-panel">
        <div id="help-content">
            <div class="help-header">
                <h3>üìñ Help & Guide</h3>
                <button id="close-help" class="close-btn">‚úï</button>
            </div>
            <div class="help-sections">
                <!-- Getting Started -->
                <div class="help-section">
                    <h4>üöÄ Getting Started</h4>
                    <p>Select a practice mode from the dropdown menu and start typing to begin your session. The timer
                        starts automatically when you type your first character.</p>
                    <p><strong>Quick Tips:</strong></p>
                    <ul>
                        <li>New to typing? Start with <strong>TypeWell Original - Lowercase</strong> mode</li>
                        <li>Want to practice code? Select any <strong>Programming Language</strong> from the dropdown</li>
                        <li>Need a challenge? Try <strong>TypeWell Mode</strong> (no backspace allowed!)</li>
                    </ul>
                </div>

                <!-- Basic Controls -->
                <div class="help-section">
                    <h4>‚å®Ô∏è Basic Controls</h4>
                    <ul>
                        <li><strong>Type:</strong> Start typing to match the displayed content</li>
                        <li><strong>Backspace:</strong> Fix mistakes by pressing Backspace (Normal mode only)</li>
                        <li><strong>Enter:</strong> Press Enter for new lines (shown as ‚èé symbol)</li>
                        <li><strong>Spaces:</strong> Press Spacebar for spaces (incorrect ones display as ‚ê£)</li>
                        <li><strong>Tabs:</strong> Shown as ‚Üí and require Tab key press</li>
                    </ul>
                    <p><strong>Note:</strong> Japanese, Chinese, and Korean characters are automatically skipped during
                        typing practice.</p>
                </div>

                <!-- Understanding Statistics -->
                <div class="help-section">
                    <h4>üìä Understanding Statistics</h4>
                    <ul>
                        <li><strong>WPM (Words Per Minute):</strong> Typing speed calculated from correctly typed
                            characters. Formula: (characters / 5) / (time in minutes)</li>
                        <li><strong>Accuracy:</strong> Percentage of correct keystrokes out of total keystrokes</li>
                        <li><strong>Progress:</strong> Shows current position / total characters (e.g., "125/500")</li>
                        <li><strong>Timer:</strong> Elapsed time since first keystroke</li>
                        <li><strong>Mistakes:</strong> Tracked per-character for detailed analysis</li>
                    </ul>
                </div>

                <!-- Practice Modes Overview -->
                <div class="help-section">
                    <h4>üéÆ Practice Modes</h4>
                    <p>The app offers <strong>12 different practice modes</strong> across 6 categories:</p>
                    <ul>
                        <li><strong>üíª Programming Languages</strong> - Python, JavaScript, Java, C, C++, Rust, Lua</li>
                        <li><strong>‚å®Ô∏è TypeWell Original</strong> - Random character drills with 4 difficulty levels</li>
                        <li><strong>üî§ TypeWell English Words</strong> - Vocabulary practice with NGSL word lists</li>
                        <li><strong>‚ö° Initial Speed</strong> - Single character reaction time training</li>
                        <li><strong>üìö Word Practice</strong> - Individual word-by-word typing</li>
                        <li><strong>üîß Custom Code</strong> - Practice with your own files and text</li>
                    </ul>
                </div>

                <!-- Programming Languages Mode -->
                <div class="help-section">
                    <h4>üíª Programming Languages Mode</h4>
                    <p>Practice with real code from 7 popular programming languages:</p>
                    <ul>
                        <li><strong>Languages:</strong> Python, JavaScript, Java, C, C++, Rust, Lua</li>
                        <li><strong>Page System:</strong> Long code is automatically split into 20-line pages</li>
                        <li><strong>Mode Selection:</strong> Choose Normal (backspace allowed) or TypeWell (strict, no
                            backspace)</li>
                        <li><strong>Navigation:</strong> Use Page dropdown to jump between pages, or continue
                            sequentially</li>
                    </ul>
                    <p><strong>Pro Tip:</strong> Use TypeWell mode for languages you want to master - it forces you to
                        type accurately without relying on backspace!</p>
                </div>

                <!-- TypeWell Original Mode -->
                <div class="help-section">
                    <h4>‚å®Ô∏è TypeWell Original Mode</h4>
                    <p>Build fundamental typing skills with random character generation:</p>
                    <ul>
                        <li><strong>Format:</strong> 360 characters √ó 10 lines (36 chars per line)</li>
                        <li><strong>Difficulty Levels:</strong>
                            <ul>
                                <li>üìù <strong>Lowercase</strong> - a-z + space, comma, period</li>
                                <li>üìù <strong>Mixed Case</strong> - a-z, A-Z + space, comma, period</li>
                                <li>üìù <strong>With Symbols</strong> - All alphanumeric + symbols</li>
                                <li>üî¢ <strong>Numbers Only</strong> - 0-9 focused practice</li>
                            </ul>
                        </li>
                        <li><strong>Strict Mode:</strong> Backspace is completely disabled - stop on mistakes</li>
                        <li><strong>Countdown:</strong> Configurable 0-3 second preparation time before start</li>
                        <li><strong>Lap Times:</strong> Line-by-line completion tracking displayed in results</li>
                    </ul>
                </div>

                <!-- TypeWell English Words Mode -->
                <div class="help-section">
                    <h4>üî§ TypeWell English Words Mode</h4>
                    <p>Improve typing speed while learning practical English vocabulary:</p>
                    <ul>
                        <li><strong>Format:</strong> 400 characters √ó 8 lines of English words</li>
                        <li><strong>Word Sets:</strong>
                            <ul>
                                <li>üìö <strong>Top 500 Words</strong> - Most frequent everyday words</li>
                                <li>üìö <strong>Top 1500 Words</strong> - Extended vocabulary coverage</li>
                                <li>üìö <strong>All Words</strong> - Complete 2809 word database</li>
                            </ul>
                        </li>
                        <li><strong>NGSL Database:</strong> Based on the New General Service List - scientifically
                            validated frequency data</li>
                        <li><strong>TypeWell Style:</strong> Strict mode with no backspace</li>
                        <li><strong>Educational:</strong> Perfect for ESL learners and vocabulary building</li>
                    </ul>
                    <p><strong>License:</strong> NGSL by Browne, Culligan & Phillips, licensed under CC BY-SA 4.0</p>
                </div>

                <!-- Initial Speed Mode -->
                <div class="help-section">
                    <h4>‚ö° Initial Speed Mode</h4>
                    <p>Train your reaction time and finger reflexes with single-character drills:</p>
                    <ul>
                        <li><strong>Character Sets:</strong>
                            <ul>
                                <li>üî§ <strong>Lowercase + Punctuation</strong> - a-z, comma, period</li>
                                <li>üî¢ <strong>Numbers Only</strong> - 0-9</li>
                                <li>‚úã <strong>Left Hand</strong> - qwertasdfgzxcvb keys</li>
                                <li>‚úã <strong>Right Hand</strong> - yuiophjklnm,. keys</li>
                                <li>üéØ <strong>Hand Primitive</strong> - Specialized left/right reflex training</li>
                            </ul>
                        </li>
                        <li><strong>Trials:</strong> Configure 5-20 attempts per session</li>
                        <li><strong>Measurement:</strong> Millisecond-precise reaction time tracking</li>
                        <li><strong>Anti-cheat:</strong> Detection and penalty for premature key presses</li>
                        <li><strong>Statistics:</strong> Trial-by-trial breakdown with fastest/slowest/average times</li>
                        <li><strong>Rankings:</strong> TOP3 records based on average reaction time</li>
                    </ul>
                    <p><strong>How it works:</strong> A character appears on screen. Press it as fast as possible. The
                        time from character appearance to correct keystroke is measured.</p>
                </div>

                <!-- Word Practice Mode -->
                <div class="help-section">
                    <h4>üìö Word Practice Mode</h4>
                    <p>Individual word-by-word typing practice:</p>
                    <ul>
                        <li><strong>Word Sets:</strong> Top 500, Top 1500, or All 2809 NGSL words</li>
                        <li><strong>Session Length:</strong> Configure 5-20 words per session</li>
                        <li><strong>Real-time WPM:</strong> Immediate speed calculation per word</li>
                        <li><strong>Results:</strong> Word-by-word performance with best/worst tracking</li>
                        <li><strong>First Key Analysis:</strong> Reaction time measurement for word recognition</li>
                    </ul>
                    <p><strong>Perfect for:</strong> Improving word recognition speed and building typing fluency with
                        common vocabulary.</p>
                </div>

                <!-- Custom Code -->
                <div class="help-section">
                    <h4>üîß Custom Code Mode</h4>
                    <p>Practice with your own content - perfect for learning specific codebases or documents:</p>
                    <ol>
                        <li>Click the <strong>"Custom"</strong> button to open the custom code panel</li>
                        <li>Select typing mode: <strong>Normal</strong> (allows backspace) or <strong>TypeWell</strong>
                            (strict, no backspace)</li>
                        <li>Paste your code in the text area, or click <strong>"Choose File"</strong> to upload</li>
                        <li>Enter a name and click <strong>"Save"</strong> to store for later use</li>
                        <li>Use <strong>"Load"</strong> to select previously saved code from the dropdown</li>
                        <li>Use <strong>"Delete"</strong> to remove saved code you no longer need</li>
                    </ol>
                    <p><strong>Supported Formats:</strong> .txt, .js, .py, .c, .cpp, .java, .rs, .lua, .md, .json, .html,
                        .css, and more</p>
                    <p><strong>Size Limit:</strong> Maximum 1MB per file</p>
                    <p><strong>Note:</strong> Only ASCII text files are fully supported. Files with non-ASCII characters
                        (Japanese, Chinese, etc.) may not display correctly.</p>
                </div>

                <!-- Page Navigation -->
                <div class="help-section">
                    <h4>üìö Page Navigation</h4>
                    <p>Long code is automatically split into pages of 20 lines each for manageable practice sessions.</p>
                    <p><strong>Navigation Options:</strong></p>
                    <ul>
                        <li><strong>Page dropdown:</strong> Jump to any page directly</li>
                        <li><strong>Next button:</strong> Continue to next page after completing current</li>
                        <li><strong>Retry button:</strong> Practice current page again</li>
                        <li><strong>Restart All button:</strong> Start over from page 1</li>
                    </ul>
                    <p><strong>Result Card Buttons:</strong></p>
                    <ul>
                        <li><strong>Next (Enter):</strong> Proceed to next page or finish if last page</li>
                        <li><strong>Retry (r):</strong> Practice current page again</li>
                        <li><strong>Restart All (R):</strong> Start entire practice from beginning</li>
                    </ul>
                </div>

                <!-- Auto Break -->
                <div class="help-section">
                    <h4>üßò Auto Break Feature</h4>
                    <p>Prevent fatigue with automatic break reminders:</p>
                    <ul>
                        <li><strong>Setting:</strong> Configure character count threshold in Settings (0 = disabled)</li>
                        <li><strong>Trigger:</strong> Break dialog appears when you reach the set character count</li>
                        <li><strong>Smart Detection:</strong> Monitors cumulative typing across sessions</li>
                        <li><strong>Resume:</strong> Click "Continue" button or press Enter to proceed</li>
                        <li><strong>Break Stats:</strong> View current WPM, time, and character count during break</li>
                    </ul>
                    <p><strong>Recommendation:</strong> Set to 1000-2000 characters for regular break reminders. Take
                        breaks to rest your hands and eyes!</p>
                </div>

                <!-- Statistics Tracking -->
                <div class="help-section">
                    <h4>üìà Statistics & Analytics</h4>
                    <p>Click the <strong>üìä Stats</strong> button to view comprehensive practice analytics:</p>

                    <h5>üìä Graph Tabs:</h5>
                    <ul>
                        <li><strong>üìà Progress:</strong> Performance trends over time (line chart)</li>
                        <li><strong>üìä Compare:</strong> Side-by-side language performance comparison (bar chart)</li>
                        <li><strong>‚ö° Speed:</strong> Initial Speed reaction time analysis (scatter plot)</li>
                        <li><strong>‚å®Ô∏è Keys:</strong> Keyboard heatmap + mistake frequency chart</li>
                    </ul>

                    <h5>üéØ Mistake Analysis:</h5>
                    <ul>
                        <li><strong>Overall Mistakes:</strong> Character-level tracking of all errors</li>
                        <li><strong>Keyboard Heatmap:</strong> Visual QWERTY layout showing mistake frequency</li>
                        <li><strong>Problem Characters:</strong> Top 8 most-mistyped characters</li>
                        <li><strong>Initial Speed Mistakes:</strong> Separate tracking for reaction time mode</li>
                    </ul>

                    <h5>üìã Practice History:</h5>
                    <ul>
                        <li>Click language sections to expand/collapse</li>
                        <li>View all attempts for each page/part</li>
                        <li>Best records highlighted with üèÜ icon</li>
                        <li>Click column headers to sort history tables</li>
                    </ul>
                </div>

                <!-- Settings & Customization -->
                <div class="help-section">
                    <h4>‚öôÔ∏è Settings & Customization</h4>
                    <p>Click the <strong>‚öôÔ∏è Settings</strong> button to customize your experience:</p>

                    <h5>üé® Appearance:</h5>
                    <ul>
                        <li><strong>Theme:</strong> Switch between Dark mode (üåô) and Light mode (‚òÄÔ∏è)</li>
                        <li><strong>Text Wrap:</strong> Enable/disable line wrapping for long code lines</li>
                    </ul>

                    <h5>‚è±Ô∏è Practice Settings:</h5>
                    <ul>
                        <li><strong>Auto Break:</strong> Set character threshold for automatic break reminders (0-10000,
                            0 = off)</li>
                        <li><strong>TypeWell Countdown:</strong> Preparation time before TypeWell modes (0-3 seconds)</li>
                    </ul>

                    <h5>üíæ Data Management:</h5>
                    <ul>
                        <li><strong>Export:</strong> Download all your data as JSON backup</li>
                        <li><strong>Import:</strong> Restore data from previously exported JSON file</li>
                        <li><strong>Delete All Data:</strong> Clear all settings, statistics, and custom codes</li>
                    </ul>

                    <h5>üéØ Color Coding:</h5>
                    <ul>
                        <li><span style="color: var(--correct-color);">üü¢ Green</span> - Correctly typed characters</li>
                        <li><span
                                style="color: var(--incorrect-color); background: var(--incorrect-bg); padding: 2px;">üî¥
                                Red</span> - Incorrectly typed characters</li>
                        <li><span style="color: var(--pending-color);">‚ö™ Gray</span> - Characters not yet typed</li>
                        <li><span style="background: var(--current-bg); padding: 2px;">üîµ Blue background</span> -
                            Current cursor position</li>
                    </ul>
                </div>

                <!-- Tips for Better Practice -->
                <div class="help-section">
                    <h4>üí° Tips for Better Practice</h4>
                    <ul>
                        <li><strong>üéØ Focus on accuracy first:</strong> Speed will come naturally with practice. Aim
                            for 95%+ accuracy before pushing speed.</li>
                        <li><strong>‚å®Ô∏è Use proper finger positioning:</strong> Follow touch typing guidelines - home row
                            position for best results.</li>
                        <li><strong>üìÖ Practice regularly:</strong> Short, frequent sessions (15-30 minutes) are more
                            effective than occasional long sessions.</li>
                        <li><strong>üßò Take breaks:</strong> Use the auto-break feature to prevent fatigue and RSI.
                        </li>
                        <li><strong>üê¢ Don't rush:</strong> Maintain a steady rhythm. Avoid "hunting" for keys.</li>
                        <li><strong>üìä Review your stats:</strong> Check the Stats panel regularly to identify patterns
                            and weak points.</li>
                        <li><strong>‚õî Try TypeWell Mode:</strong> Strict mode (no backspace) builds better accuracy
                            habits.</li>
                        <li><strong>‚ö° Practice Initial Speed:</strong> Single character drills improve reaction time
                            and reduce hesitation.</li>
                        <li><strong>üîÑ Mix it up:</strong> Practice different languages and modes to build versatility.
                        </li>
                        <li><strong>üìà Track progress:</strong> Use the Progress graph to see improvement over time.
                        </li>
                    </ul>
                </div>

                <!-- Keyboard Shortcuts -->
                <div class="help-section">
                    <h4>‚å®Ô∏è Keyboard Shortcuts Reference</h4>
                    <table style="width: 100%; border-collapse: collapse; margin-top: 10px;">
                        <thead>
                            <tr style="border-bottom: 1px solid var(--border-color);">
                                <th style="text-align: left; padding: 8px;">Key</th>
                                <th style="text-align: left; padding: 8px;">Action</th>
                                <th style="text-align: left; padding: 8px;">When</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="border-bottom: 1px solid var(--border-color);">
                                <td style="padding: 8px;"><strong>Esc</strong></td>
                                <td style="padding: 8px;">Reset and restart from beginning</td>
                                <td style="padding: 8px;">Anytime during practice</td>
                            </tr>
                            <tr style="border-bottom: 1px solid var(--border-color);">
                                <td style="padding: 8px;"><strong>Enter</strong></td>
                                <td style="padding: 8px;">Continue to next page / finish</td>
                                <td style="padding: 8px;">During results display</td>
                            </tr>
                            <tr style="border-bottom: 1px solid var(--border-color);">
                                <td style="padding: 8px;"><strong>r</strong></td>
                                <td style="padding: 8px;">Retry current page</td>
                                <td style="padding: 8px;">During results display</td>
                            </tr>
                            <tr style="border-bottom: 1px solid var(--border-color);">
                                <td style="padding: 8px;"><strong>R</strong></td>
                                <td style="padding: 8px;">Restart entire practice</td>
                                <td style="padding: 8px;">During results display</td>
                            </tr>
                            <tr style="border-bottom: 1px solid var(--border-color);">
                                <td style="padding: 8px;"><strong>Enter</strong></td>
                                <td style="padding: 8px;">Resume from break</td>
                                <td style="padding: 8px;">During break dialog</td>
                            </tr>
                            <tr style="border-bottom: 1px solid var(--border-color);">
                                <td style="padding: 8px;"><strong>Enter / Space</strong></td>
                                <td style="padding: 8px;">Start practice</td>
                                <td style="padding: 8px;">On start screens</td>
                            </tr>
                            <tr style="border-bottom: 1px solid var(--border-color);">
                                <td style="padding: 8px;"><strong>Backspace</strong></td>
                                <td style="padding: 8px;">Delete last character</td>
                                <td style="padding: 8px;">Normal mode only</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Troubleshooting -->
                <div class="help-section">
                    <h4>üîß Troubleshooting</h4>
                    <ul>
                        <li><strong>App not responding:</strong> Refresh the page (F5 or Ctrl+R) to reset. Your data is
                            safely stored.</li>
                        <li><strong>Wrong character highlighted:</strong> Make sure you're typing exactly what's shown.
                            Check for spaces (‚ê£) and tabs (‚Üí).</li>
                        <li><strong>Custom code not displaying:</strong> Ensure the file is plain text (UTF-8). Binary
                            files won't work.</li>
                        <li><strong>Stats not saving:</strong> Check that localStorage is enabled in your browser
                            settings.</li>
                        <li><strong>Break dialog not appearing:</strong> Check Auto Break setting is > 0 in Settings
                            panel.</li>
                        <li><strong>Graphs not showing:</strong> Ensure canvas is supported by your browser (all modern
                            browsers support this).</li>
                        <li><strong>Import not working:</strong> Make sure you're importing a valid JSON file exported
                            from this app.</li>
                        <li><strong>Dark/Light theme issues:</strong> Toggle the theme switch in Settings to refresh.
                        </li>
                    </ul>
                    <p><strong>Still having issues?</strong> Try clearing browser cache or opening in an incognito/private
                        window. All data is stored locally - no server involved!</p>
                </div>

                <!-- Privacy & Data -->
                <div class="help-section">
                    <h4>üîí Privacy & Data Storage</h4>
                    <ul>
                        <li><strong>100% Private:</strong> All data is stored locally in your browser using localStorage
                        </li>
                        <li><strong>No Server:</strong> This app works completely offline - no data is ever sent to any
                            server</li>
                        <li><strong>Your Control:</strong> You own your data. Export it anytime as JSON backup</li>
                        <li><strong>Retention:</strong> Data persists for 365 days (browser standard) or until you clear
                            it</li>
                        <li><strong>Cross-Device:</strong> Use Export/Import to move data between devices</li>
                    </ul>
                    <p><strong>Data Stored:</strong> Practice statistics, TOP3 records, custom code files, theme
                        preferences, mistake character data, and settings.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Áµ±Ë®à„Éë„Éç„É´ -->
    <div id="stats-panel">
        <div id="stats-content">
            <!-- „Éò„ÉÉ„ÉÄ„Éº -->
            <div class="stats-header">
                <h3 class="stats-title">üìä Statistics</h3>
            </div>

            <!-- „É°„Ç§„É≥„Ç®„É™„Ç¢ÔºöÂ∑¶Âè≥ÂàÜÂâ≤ -->
            <div class="stats-body">
                <!-- Â∑¶ÂÅ¥ÔºöÊó¢Â≠ò„ÅÆË©≥Á¥∞Áµ±Ë®à -->
                <div class="stats-left">
                    <!-- Ëã¶ÊâãÊñáÂ≠óÁµ±Ë®à -->
                    <div id="mistake-stats" class="mistake-stats-section">
                        <h4>üéØ Frequent Mistakes (Overall)</h4>
                        <div id="mistake-chart" class="mistake-chart">
                            <!-- Ëã¶ÊâãÊñáÂ≠ó„ÉÅ„É£„Éº„Éà„Åå„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Çã -->
                        </div>
                    </div>

                    <div id="stats-list">
                        <!-- Áµ±Ë®à„Éá„Éº„Çø„Åå„Åì„Åì„Å´ÂãïÁöÑ„Å´Ë°®Á§∫„Åï„Çå„Çã -->
                    </div>
                </div>

                <!-- Âè≥ÂÅ¥ÔºöÊñ∞„Åó„ÅÑ„Ç∞„É©„Éï„Ç®„É™„Ç¢ -->
                <div class="stats-right">
                    <!-- „Çµ„Éû„É™„ÉºÁµ±Ë®à -->
                    <div class="graph-summary">
                        <div class="summary-card">
                            <div class="summary-value" id="total-sessions">0</div>
                            <div class="summary-label">Total Sessions</div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-value" id="avg-wpm">0</div>
                            <div class="summary-label">Average WPM</div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-value" id="best-wpm">0</div>
                            <div class="summary-label">Best WPM</div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-value" id="improvement">+0</div>
                            <div class="summary-label">WPM Improvement</div>
                        </div>
                    </div>

                    <!-- „Ç∞„É©„Éï„Ç≥„É≥„Éà„É≠„Éº„É´ -->
                    <div class="graph-controls">
                        <div class="control-group">
                            <label class="control-label">Language:</label>
                            <select class="control-select" id="graph-language-filter">
                                <!-- ÂãïÁöÑÁîüÊàê -->
                            </select>
                        </div>
                        <div class="control-group">
                            <label class="control-label">Period:</label>
                            <select class="control-select" id="graph-period-filter">
                                <option value="all">All Time</option>
                                <option value="7">Last 7 Days</option>
                                <option value="30">Last 30 Days</option>
                                <option value="90">Last 3 Months</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <label class="control-label">Metric:</label>
                            <select class="control-select" id="graph-metric-filter">
                                <option value="latest">Latest</option>
                                <option value="best">Best</option>
                                <option value="average">Average</option>
                            </select>
                        </div>
                    </div>

                    <!-- „Ç∞„É©„Éï„Çø„Éñ -->
                    <div class="graph-tabs">
                        <button class="graph-tab active" data-tab="progress">üìà Progress</button>
                        <button class="graph-tab" data-tab="compare">üìä Compare</button>
                        <button class="graph-tab" data-tab="speed">‚ö° Speed</button>
                        <button class="graph-tab" data-tab="keys">‚å®Ô∏è Keys</button>
                    </div>

                    <!-- „Ç∞„É©„Éï„Ç≥„É≥„ÉÜ„Éä -->
                    <div class="graph-container">
                        <!-- „Éë„Éï„Ç©„Éº„Éû„É≥„ÇπÊé®Áßª„Ç∞„É©„Éï -->
                        <div class="graph-content active" id="progress-graph">
                            <div class="canvas-container">
                                <canvas id="progress-chart"></canvas>
                            </div>
                        </div>

                        <!-- Ë®ÄË™ûÂà•ÊØîËºÉ„Ç∞„É©„Éï -->
                        <div class="graph-content" id="compare-graph">
                            <div class="canvas-container">
                                <canvas id="compare-chart"></canvas>
                            </div>
                        </div>

                        <!-- Initial SpeedÂàÜÊûê -->
                        <div class="graph-content" id="speed-graph">
                            <div class="canvas-container">
                                <canvas id="speed-chart"></canvas>
                            </div>
                        </div>

                        <!-- „Ç≠„Éº„Éú„Éº„ÉâÂàÜÊûê -->
                        <div class="graph-content" id="keys-graph">
                            <div class="keyboard-heatmap" id="keyboard-heatmap">
                                <!-- „Ç≠„Éº„Éú„Éº„Éâ„Åå„Åì„Åì„Å´ÁîüÊàê„Åï„Çå„Çã -->
                            </div>
                            <div class="canvas-container" style="height: 150px;">
                                <canvas id="keys-chart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Ë©≥Á¥∞„Éü„ÇπÂàÜÊûê -->
                    <div class="mistake-analysis">
                        <h4 class="mistake-title">üéØ Detailed Mistake Analysis</h4>
                        <div class="canvas-container" style="height: 200px;">
                            <canvas id="mistake-analysis-chart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- „Éï„ÉÉ„Çø„Éº -->
            <div class="stats-actions">
                <button id="clear-stats">Clear All</button>
                <button id="close-stats">Close</button>
            </div>
        </div>
    </div>

    <!-- ÂâäÈô§Á¢∫Ë™ç„ÉÄ„Ç§„Ç¢„É≠„Ç∞ -->
    <div id="delete-confirmation-dialog">
        <div id="delete-dialog-content">
            <div class="delete-dialog-header">
                <span id="delete-dialog-title">‚ö†Ô∏è DELETE ALL DATA</span>
            </div>
            <div class="delete-dialog-body">
                <span class="delete-warning-icon">üö®</span>
                <div class="delete-warning-text" id="delete-dialog-message">
                    Are you sure you want to delete ALL your data?
                </div>
                <div id="delete-warning-details" style="display: none;">
                    <div class="delete-warning-text">This will permanently delete:</div>
                    <ul class="delete-warning-list">
                        <li>All custom codes and saved files</li>
                        <li>All practice statistics and records</li>
                        <li>Theme preferences</li>
                        <li>Mistake character data</li>
                    </ul>
                    <div class="delete-warning-text" style="color: var(--incorrect-color); font-weight: bold;">
                        This action cannot be undone!
                    </div>
                </div>
                <div class="delete-dialog-buttons">
                    <button class="delete-dialog-btn delete-cancel-btn" id="delete-cancel-btn">Cancel</button>
                    <button class="delete-dialog-btn delete-confirm-btn" id="delete-proceed-btn">Yes, Delete</button>
                </div>
            </div>
        </div>
    </div>

    <!-- „Éï„ÉÉ„Çø„Éº -->
    <div class="footer-simple">
        <a href="https://github.com/typingpra/typing_practice" target="_blank" rel="noopener noreferrer">
            <svg width="12" height="12" viewBox="0 0 16 16" fill="currentColor">
                <path
                    d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z" />
            </svg>
            GitHub
        </a>
    </div>

    <!-- JavaScript„Éï„Ç°„Ç§„É´„ÅÆË™≠„ÅøËæº„ÅøÔºàÈ†ÜÂ∫èÈáçË¶ÅÔºâ -->
    <script src="static/js/snippets.js"></script>
    <script src="static/js/words.js"></script>
    <script src="static/js/constants.js"></script>
    <script src="static/js/storage.js"></script>
    <script src="static/js/utils.js"></script>
    <script src="static/js/theme.js"></script>
    <script src="static/js/stats.js"></script>
    <script src="static/js/customCode.js"></script>
    <script src="static/js/typing.js"></script>
    <script src="static/js/ui.js"></script>
    <script src="static/js/main.js"></script>
</body>

</html>